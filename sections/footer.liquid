<div class="ly_footer_catch-copy aspect-3/1 w-full">
  {% if section.settings['catch-copy'] != blank %}
    <p class="el_head_lg text-white">{{ section.settings['catch-copy'] }}</p>
  {% endif %}
</div>
<footer class="bg-black">
  <div class="ly_footer ly_cont md:pt-10">
    {% comment %} footer grid {% endcomment %}
    <div class="grid md:grid-cols-12">
      {% comment %} footer logo {% endcomment %}
      <div class="ly_footer_brandLogo mt-10 md:col-span-2">
        <div class="w-[120px] md:w-auto m-auto">
          {% render 'el_brandLogo', color: 'white' %}
        </div>
        {% comment %} navigation_sns {% endcomment %}
        <div class="footer_sns flex gap-4 justify-center mt-6">
          {% for block in section.blocks %}
            {% if block.type == 'sns_link' %}
              {% if block.settings.url != blank and block.settings.icon != blank %}
                <a
                  href="{{ block.settings.url }}"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="footer_sns_link flex items-center justify-center bg-white rounded-sm p-1 w-10 h-10"
                  {{ block.shopify_attributes }}
                >
                  <img
                    src="{{ block.settings.icon | image_url: width: 100 }}"
                    alt="SNS icon"
                    width="100"
                    height="100"
                    loading="lazy"
                  >
                </a>
              {% endif %}
            {% endif %}
          {% endfor %}
        </div>
        {% comment %} /navigation_sns {% endcomment %}
      </div>
      <div class="ly_footer_nav order-first md:order-last mt-10 md:mt-0 md:col-span-10">
        {% comment %} navigation_menu {% endcomment %}
        <div class="ly_footer_nav text-white">
          <div class="flex flex-col md:flex-row md:justify-end gap-4">
            {% for block in section.blocks %}
              {% if block.type == 'menu' %}
                {% assign footer_menu = linklists[block.settings['footer-menu']] %}
                <div class="border-t-2 md:min-w-[200px]">
                  {% if footer_menu %}
                    <div class="flex flex-col mt-4">
                      {% for link in footer_menu.links %}
                        <a href="{{ link.url }}" class="mt-3 w-fit">
                          <p class="text-base font-bold">{{ link.title }}</p>
                        </a>
                      {% endfor %}
                    </div>
                  {% endif %}
                </div>
              {% endif %}
            {% endfor %}
          </div>
        </div>
        {% comment %} /navigation_menu {% endcomment %}
      </div>
      {% comment %} /footer grid {% endcomment %}
    </div>
    <div class="text-center mt-10 pb-2">
      <div class="footer_copyright text-white">
        &copy;
        {{ 'now' | date: '%Y' }}
        {{ shop.name | link_to: routes.root_url }}
      </div>
    </div>
  </div>
</footer>

<style>
  .ly_footer_catch-copy {
    display: flex;
    justify-content: center;
    align-items: center;
    background-image: linear-gradient(rgba(0, 0, 0, 0.45)), url({{ section.settings.catch-copy_image | image_url}});

  }
</style>

{% schema %}
{
  "name": "t:general.footer",
  "settings": [
    {
      "type": "link_list",
      "id": "menu",
      "label": "フッターメニュー"
    },
    {
      "type": "image_picker",
      "id": "catch-copy_image",
      "label": "キャッチコピー背景画像/アスペクト比：3/1"
    },
    {
      "type": "text",
      "id": "catch-copy",
      "label": "キャッチコピーテキストを入力"
    },
    {
      "type": "checkbox",
      "id": "show_payment_icons",
      "label": "支払い方法 アイコン表示",
      "default": true
    }
  ],
  "blocks": [
    {
      "type": "menu",
      "name": "表示メニュー",
      "settings": [
        {
          "type": "link_list",
          "id": "footer-menu",
          "label": "表示するフッターを選択"
        }
      ]
    },
    {
      "type": "sns_link",
      "name": "SNSリンク",
      "limit": 6,
      "settings": [
        {
          "type": "url",
          "id": "url",
          "label": "SNS URL",
          "info": "SNSのプロフィールページのURLを入力してください"
        },
        {
          "type": "image_picker",
          "id": "icon",
          "label": "SNS アイコンを選択",
          "info": "40x40px推奨"
        }
      ]
    }
  ]
}
{% endschema %}
